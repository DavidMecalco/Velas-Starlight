<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Sintaxis Arreglada</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Test - Sintaxis HTML Arreglada</h1>
        
        <div class="bg-white p-6 rounded-lg shadow mb-8">
            <h2 class="text-xl font-semibold mb-4">Estado de la Correcci칩n:</h2>
            <div id="fix-status" class="space-y-2"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow mb-8">
            <h2 class="text-xl font-semibold mb-4">Enlaces de Prueba:</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="test-links"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-semibold mb-4">Vista Previa de C칩mo Deber칤a Verse:</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Caracter칤sticas -->
                <div class="bg-gray-50 p-4 rounded">
                    <h3 class="font-semibold mb-3 flex items-center gap-2">
                        <i class="fa fa-star text-yellow-500"></i>
                        Caracter칤sticas
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li><i class="fa fa-star text-yellow-500"></i> Cera natural de alta calidad</li>
                        <li><i class="fa fa-clock text-blue-500"></i> Duraci칩n: 40-45 horas</li>
                        <li><i class="fa fa-palette text-purple-500"></i> Colores: Blanco, Dorado suave</li>
                        <li><i class="fa fa-leaf text-green-500"></i> Tipo: Parafina</li>
                    </ul>
                </div>

                <!-- Ingredientes -->
                <div class="bg-gray-50 p-4 rounded">
                    <h3 class="font-semibold mb-3 flex items-center gap-2">
                        <i class="fa fa-check text-green-500"></i>
                        Ingredientes
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li><i class="fa fa-check text-green-500"></i> Cera de parafina premium 88%</li>
                        <li><i class="fa fa-check text-green-500"></i> Aceites de fragancia 10%</li>
                        <li><i class="fa fa-check text-green-500"></i> Mecha de algod칩n 2%</li>
                    </ul>
                </div>

                <!-- Cuidados -->
                <div class="bg-gray-50 p-4 rounded">
                    <h3 class="font-semibold mb-3 flex items-center gap-2">
                        <i class="fa fa-info-circle text-pink-500"></i>
                        Cuidados
                    </h3>
                    <ul class="space-y-2 text-sm">
                        <li><i class="fa fa-info-circle text-pink-500"></i> Nunca dejar encendida sin supervisi칩n</li>
                        <li><i class="fa fa-info-circle text-pink-500"></i> Recortar mecha a 5mm antes de encender</li>
                        <li><i class="fa fa-info-circle text-pink-500"></i> Colocar sobre superficie resistente al calor</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="js/productos-data.js"></script>
    <script>
        console.log('=== TEST SINTAXIS ARREGLADA ===');
        
        const fixStatus = document.getElementById('fix-status');
        const testLinks = document.getElementById('test-links');
        
        function addStatus(message, type = 'info') {
            const colors = {
                success: 'bg-green-100 text-green-800',
                error: 'bg-red-100 text-red-800',
                warning: 'bg-yellow-100 text-yellow-800',
                info: 'bg-blue-100 text-blue-800'
            };
            
            const div = document.createElement('div');
            div.className = `p-3 rounded ${colors[type]}`;
            div.innerHTML = `
                <i class="fa ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-times-circle' : 'fa-info-circle'} mr-2"></i>
                ${message}
            `;
            fixStatus.appendChild(div);
        }
        
        addStatus('Verificando correcci칩n de sintaxis HTML...', 'info');
        
        if (typeof productosData === 'undefined') {
            addStatus('ERROR: productosData no est치 definido', 'error');
        } else {
            addStatus(`Datos cargados: ${productosData.length} productos`, 'success');
            
            // Verificar que los productos tengan la estructura correcta
            let allValid = true;
            productosData.forEach((product, index) => {
                if (!product.characteristics || !Array.isArray(product.characteristics)) {
                    addStatus(`Producto ${index + 1}: Sin caracter칤sticas v치lidas`, 'warning');
                    allValid = false;
                }
                if (!product.ingredients || !Array.isArray(product.ingredients)) {
                    addStatus(`Producto ${index + 1}: Sin ingredientes v치lidos`, 'warning');
                    allValid = false;
                }
                if (!product.care || !Array.isArray(product.care)) {
                    addStatus(`Producto ${index + 1}: Sin cuidados v치lidos`, 'warning');
                    allValid = false;
                }
            });
            
            if (allValid) {
                addStatus('Todos los productos tienen estructura v치lida', 'success');
            }
            
            addStatus('Sintaxis HTML corregida en las funciones de carga', 'success');
            addStatus('Los iconos ahora deber칤an mostrarse correctamente', 'success');
            
            // Crear enlaces de prueba
            productosData.forEach(product => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded border';
                
                let badges = '';
                if (product.new) badges += '<span class="bg-green-500 text-white px-2 py-1 rounded text-xs mr-1">NUEVO</span>';
                if (product.featured) badges += '<span class="bg-yellow-500 text-white px-2 py-1 rounded text-xs mr-1">DESTACADO</span>';
                if (product.bestseller) badges += '<span class="bg-red-500 text-white px-2 py-1 rounded text-xs mr-1">BESTSELLER</span>';
                
                card.innerHTML = `
                    <div class="mb-2">${badges}</div>
                    <h3 class="font-bold text-sm mb-1">${product.title}</h3>
                    <p class="text-xs text-gray-600 mb-2">${product.category} - ${product.type}</p>
                    
                    <div class="text-xs text-gray-500 mb-3">
                        <div>游늵 Caracter칤sticas: ${product.characteristics ? product.characteristics.length : 0}</div>
                        <div>游빍 Ingredientes: ${product.ingredients ? product.ingredients.length : 0}</div>
                        <div>游눠 Cuidados: ${product.care ? product.care.length : 0}</div>
                    </div>
                    
                    <a href="pages/producto-detalle.html?id=${product.id}" 
                       class="block bg-blue-500 text-white px-3 py-2 rounded text-center text-sm hover:bg-blue-600"
                       target="_blank">
                        游빍 Probar Sintaxis Corregida
                    </a>
                `;
                
                testLinks.appendChild(card);
            });
        }
    </script>
</body>
</html>