<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Error Solucionado</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Test - Verificar Error Solucionado</h1>
        
        <div class="bg-white p-6 rounded-lg shadow mb-8">
            <h2 class="text-xl font-semibold mb-4">Estado del Error:</h2>
            <div id="error-status" class="space-y-2"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow">
            <h2 class="text-xl font-semibold mb-4">Enlaces de Prueba:</h2>
            <div class="space-y-4">
                <div class="p-4 bg-blue-50 rounded">
                    <h3 class="font-semibold text-blue-800 mb-2">üß™ Productos para Probar:</h3>
                    <div class="space-y-2">
                        <a href="pages/producto-detalle.html?id=1" 
                           class="block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                           target="_blank">
                            Producto ID 1 - Flor en Cemento
                        </a>
                        <a href="pages/producto-detalle.html?id=2" 
                           class="block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                           target="_blank">
                            Producto ID 2 - Suspiro de √Ångel (El que daba error)
                        </a>
                        <a href="pages/producto-detalle.html?id=5" 
                           class="block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                           target="_blank">
                            Producto ID 5 - Flor de Cempas√∫chil
                        </a>
                    </div>
                </div>
                
                <div class="p-4 bg-green-50 rounded">
                    <h3 class="font-semibold text-green-800 mb-2">‚úÖ Qu√© Verificar:</h3>
                    <ul class="list-disc list-inside text-green-700 space-y-1 text-sm">
                        <li>La p√°gina carga sin errores en la consola</li>
                        <li>Se muestra la informaci√≥n del producto</li>
                        <li>Los dropdowns de tama√±o funcionan</li>
                        <li>Los dropdowns de fragancia funcionan</li>
                        <li>Se muestran caracter√≠sticas, ingredientes y cuidados</li>
                        <li>No aparece el error "sizeDropdown is not defined"</li>
                    </ul>
                </div>
                
                <div class="p-4 bg-yellow-50 rounded">
                    <h3 class="font-semibold text-yellow-800 mb-2">üîç C√≥mo Verificar:</h3>
                    <ol class="list-decimal list-inside text-yellow-700 space-y-1 text-sm">
                        <li>Haz click en cualquier enlace de arriba</li>
                        <li>Abre la consola del navegador (F12)</li>
                        <li>Verifica que no haya errores rojos</li>
                        <li>Prueba seleccionar diferentes tama√±os</li>
                        <li>Verifica que el precio se actualice</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <script src="js/productos-data.js"></script>
    <script>
        const errorStatus = document.getElementById('error-status');
        
        function addStatus(message, type = 'info') {
            const colors = {
                success: 'bg-green-100 text-green-800',
                error: 'bg-red-100 text-red-800',
                info: 'bg-blue-100 text-blue-800'
            };
            
            const div = document.createElement('div');
            div.className = `p-3 rounded ${colors[type]}`;
            div.innerHTML = `
                <i class="fa ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-times-circle' : 'fa-info-circle'} mr-2"></i>
                ${message}
            `;
            errorStatus.appendChild(div);
        }
        
        if (typeof productosData === 'undefined') {
            addStatus('ERROR: productosData no est√° definido', 'error');
        } else {
            addStatus(`Datos cargados correctamente: ${productosData.length} productos`, 'success');
            
            // Verificar que el producto ID 2 existe
            const product2 = productosData.find(p => p.id === 2);
            if (product2) {
                addStatus(`Producto ID 2 encontrado: ${product2.title}`, 'success');
                addStatus(`Tama√±os disponibles: ${product2.sizes ? product2.sizes.length : 0}`, 'info');
            } else {
                addStatus('Producto ID 2 no encontrado', 'error');
            }
        }
        
        addStatus('Usa los enlaces de arriba para probar que el error est√© solucionado', 'info');
    </script>
</body>
</html>